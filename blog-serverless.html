<!DOCTYPE html>
<html lang="ar">
<head>

	<meta charset="utf-8" />

	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="Content-Language" content="ar">

	<meta name="viewport" content="initial-scale=1, maximum-scale=1">
	<meta name="google-site-verification" content="xmq78SGX8Bs8Ow0ABWKJi5qbH69xBjrALjDTu6k2kP8" />

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-56731261-2"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-56731261-2');
	</script>

	<link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/xb-khoramshahr" type="text/css"/>
	<link rel="stylesheet" type="text/css" href="css/jaw.css">

	<title>لستُ خارقًا - الحوسبة دون خادم (Serverless Computing): لا خادم بعد الآن؟</title>
</head>
<body>

	<div class="container">
		<header>
			<h1>ح/</h1>
		</header>

		<nav>
			<ul>
				<li><a href="index.html">الرئيسيّة</a></li>
				<li><a href="https://sa.linkedin.com/in/hussam-alzughaibi-66700642">LinkedIn</a></li>
				<li><a href="https://twitter.com/hossamzee">Twitter</a></li>
			</ul>
		</nav>

		<article>
			<div class="heading">
				<h1>الحوسبة دون خادم (Serverless Computing): لا خادم بعد الآن؟</h1>
				<h4><span class="date">8 دقائق قراءة. 23 فراير 2018، 02:58 مساءً.</span></h4>
			</div>
			<p class="note">
				ملاحظة: كنتُ قد بحثتُ عن ترجمةٍ مناسبةٍ لعبارة (Serverless) وقد وجدتُ العديد من الترجمات المقترحة: <a href="https://twitter.com/Dhaifallahm/status/948099234120728576">“اللاّخوادم”</a>، <a href="https://twitter.com/TurkiAlTwijri/status/948137584026320896">“التخلّي عن الخوادم”</a>، بدون خادم، <a href="https://twitter.com/nasser/status/948098571718594560">“الحوسبة الغير مرتكزة على خوادم”</a>، وغيرها؛ لكنّي رأيتُ أن أترجمها إلى عبارة “دون خادم”.
			</p>

			<p>
				ملخّص التدوينة: الحوسبة دون خادم (Serverless Computing) والتطبيقات دون خادم (Serverless Applications) وما هو دون خادم، أعتبرهُ لاعبًا خرافيًّا أنيقًا، فمتى كانت لديك فكرة لمنتجٍ ما أو خدمة أو تطبيق، وتريد أن تصل بها إلى السوق بأسرعِ وأخصرِ وقتٍ ممكن؛ فأنصحك بأن تجرّب ثم تتشرّب الحوسبة دون خادم والتطبيقات دون خادم. أعني بذلك -عزيزي القارئ- أن تجرّبها الآن، وحتّى قبل أن تتمّ قراءة هذه التدوينة.
			</p>

			<div class="heading">
				<h3>دون خادم؟ <a href="https://aws.amazon.com/serverless/">[1]</a></h3>
			</div>

			<p>
				مبدئيًا، الحوسبة دون خادم تتيحُ لك بناء وتشغيل التطبيقات والخدمات دون الحاجة إلى التفكير بالخوادم؛ وليس -في الحقيقة- دون الحاجة إلى خادم. التطبيقات دون خادم لا تتطلّب منك تجهيز (Provision) أو توسّع (Scale) أو إدارة (Manage) أيًّا من الخوادم. يُمكنك استخدامهما لبناء أيّ نوعٍ من التطبيقات أو خدمات الناحية الخلفيّة (Backend Service). ستلاحظ -عزيزي القارئ- أنّ كل ما يتطلّب تشغيل وتوسّع ووفرةٍ عالية (High Availability)، ستلاحظ أنّه قد أزيح عن كاهلك.
			</p>

			<p>
				هذا الأمر -عزيزي القارئ- ثوريٌّ بامتياز؛ فلا حاجة لأن تدفع لقاء خادمٍ خامل (Idle)، ولا أن تقلق بشأن التحديثات الأمنيّة لهذا الخادم أو تقلق بشأن توفّره من عدمه. أنت -عزيزي القارئ- ستدفع -في هذا السياق- لقاء تنفيذ الدالّة البرمجيّة وحسب.
			</p>

			<p>
				بناء تطبيقاتٍ دون خادم يعني أن يركّز المطوّرون على المنتج الأساسي بدلاً من أن يقلقوا تجاه إدارة وتشغيل الخوادم أو بيئات التشغيل (Runtimes) سواءً كانت هذه الخوادم سحابيّة أو محليّة (On-Premises). إزاحة هذه الضغوط سيمنحُ المطوّرين وقتًا مزيدًا وطاقةً، يُمكن الاستفادة منهما في تطوير منتجاتٍ رائعةٍ وموثوقةٍ (Reliable) تتوسّع متى تطلّب الأمر.
			</p>

			<p>
				<a href="https://aws.amazon.com/lambda/">“لامدا (Lambda)”</a> -مثلاً- وهي إحدى خدمات أمازون (AWS) وما يشبهها مثل <a href="https://cloud.google.com/functions/">“دوالّ قوقل (Google Functions)”</a> و<a href="https://azure.microsoft.com/en-us/services/functions/">”دوالّ أزُور (Azure Functions)”</a>، تتيح لك تنفيذ الشفرة البرمجيّة (Code) دون الحاجة إلى تجهيز أو إدارة الخوادم ذات العلاقة؛ إذ تدفع لقاء وقت الحوسبة (Compute Time) الذي تستهلكه، ليس ثمّة تكاليف للشفرة البرمجيّة الخاملة التي لا تعمل. كلّ ما عليك القيام به أن ترفع شفرتك البرمجيّة إلى هذه الخدمات وما يشبهها ثمّ ستقوم الأخيرة بما هو مطلوب لتشغيل وتوسّع شفرتك البرمجيّة بوفرةٍ عالية.
			</p>

			<div class="heading">
				<h3>كيف وصلنا إلى هنا؟ <a href="https://www.linkedin.com/pulse/brief-history-serverless-architecture-adam-roderick">[2]</a></h3>
			</div>

			<p>
				لنعُد -عزيزي القارئ- إلى فترةٍ سابقة قليلاً، كنتَ حتّى تقوم بتشغيل أيّ تطبيق على الويب -مثلاً-، كنتَ تطلب خادمًا ملموسًا (Physical) مُسبقًا، وكنتَ تعطي معلوماتٍ تفصيليّةً حول كل مكوّنات الخادم، وترمي بتخمينٍ تظنّ أنّه متعمّق فتجد أنّه يؤدي إلى خسائرَ فادحةٍ تأتي -عادةً- إمّا على هيئة شراء خوادم أكثر ممّا يجب، أو -والأسوأ من ذلك- أن تكتشف أنّ الخوادم التي قمت بشرائها لا تستطيع تحمّل الضغط، هما أمران -عزيزي القارئ- أحلاهما مُرّ. كان النّاس -غالبًا- يتحمّلون التكلفة المرتفعة ويشترون خوادمًا بعتادٍ (Hardware) مُذهل. شراء هذه الخوادم القويّة كان يسمّى “التوسّع بشكلٍ عموديّ (Scale Up/Vertical Scaling)”.
			</p>

			<div class="figure">
				<img src="images/scale-up.svg" />
				<p>
					(صورة: توضيح لآليّة التوسّع بشكلٍ عموديّ).
				</p>
			</div>

			<p>
				بعض الشركات -بعد فترةٍ من الزمن- وجدت حلاًّ وسطًا: “التوسّع بشكلٍ أفقي (Scale Out/Horizontal Scaling)”. هذا يعني إضافة مجموعة من العتاد منخفض التكلفة جنبًا إلى جنب ومن ثمّ توزيع ضغط الحوسبة (Computing Load) بين هذا العتاد؛ كنتيجةً لذلك، ظهرت آلاتٌ ذات قوّة وكُلفة منخفضة بدلاً من آلاتٍ قويّة ومُكلفة. التوسّع بشكلٍ أفقي لديه امتيازٌ عن التوسّع بشكلٍ عمودي، لا شكّ أنّ التوسّع بشكلٍ أفقي يعتبر أسهل، لكنّك قد تجد نفسك -يومًا من الأيّام- قد بلغتَ السقف (في التكاليف أو الضغط) وبين راحتيك أغلى آلة يمكن لك شراؤها. التوسّع بشكلٍ عمودي وفّر عليك المال، توسّع -عزيزي القارئ- حسب الاحتياج، توسّع بشكلٍ لا نهائي متى أردت.
			</p>

			<div class="figure">
				<img src="images/scale-out.svg" />
				<p>
					(صورة: توضيح لآليّة التوسّع بشكلٍ أفقيّ).
				</p>
			</div>

			<p>
				بعد ذلك، جاءت “البيئة الإفتراضيّة (Virtualization)” أو “الحوسبة التخيّليّة”. “الآلة الإفتراضيّة” هي عبارة عن برمجيّة تحاكي الخوادم العتيقة المُعتمدة على العتاد. قد نطرح سؤالاً هنا: ألا يُمكن لهذه البرمجيّة أن تقوم بأيّ شيء من تلقاء نفسها دون أن تحاكي الخوادم؟ ويبدو أن سبب قيامها بذلك هو أنّ هذا النموذج كان هو الذي يستخدمه الجميع.
			</p>

			<p>
				“السحابة (Cloud)” أتت لاحقًا، بدأت بما يسمّى “البنية التحتيّة كخدمة (Infrastructure as a Service/IaaS)”. البنية التحتيّة كخدمة (IaaS) تضمّ مراكز بيانات (Data Centers) ضخمة وتجعل بينك وبين العتاد طبقة (Layer)، وتتيح لك استخدام الآلات الإفتراضيّة فقط. لاحظ أنّ قابليّة التوسّع (Scalability) باتت أسهل؛ لأنّه صار بإمكانك أن تجهّز خوادمًا إفتراضيّة دون القلق بشأن العتاد، كما ويُمكنك القيام بذلك فورًا و دون الحاجة إلى تخمين متعمّق. احفظ مالك -عزيزي القارئ-، وتحرّك بسرعة.
			</p>

			<p>
				أتت “المنصّة كخدمة (Platform as a Service/PaaS)” بعد البنية التحتيّة كخدمة، من أمثلتها <a href="https://www.heroku.com/">Heroku</a> و <a href="https://aws.amazon.com/elasticbeanstalk/">AWS Elastic Beanstalk</a>، بواسطتها أصبح تجهيز الخوادم مؤتمتًا. إذا استطعت إتقان منصّة مقدّم الخدمة (Vendor)، فسيكون نشر (Deploy)  التطبيق وتوسعته أسهل بمراحل، كان هذا أوّل انفصال عن النموذج التاريخيّ للخوادم؛ إذ أنّه ليس عليك أن تفكّر فيها كثيرًا.
			</p>

			<p>
				“إعداد الحاويات (Containerization)” انتشرت في وقتٍ ما هنا. “ديڤ أوبس (DevOps)” و إعداد الحاويات يعتبران موضوعان متداولان. إذ تعتبر إعداد الحاويات طريقة أكفأ لتجهيز البيئة الإفتراضيّة. إذا كنت تدرك أهميّة الآلات الإفتراضيّة؛ حتمًا ستدرك أهميّة الحاويات (Containers).
			</p>

			<p>
				بعد كلّ ما مضى، جاءت فكرةُ “دون خادم (Serverless)” والأفكار التي تدور في فلكها بمعماريّةٍ تستبدل الآلات الإفتراضيّة والتي تعمل بشكلٍ مطوّل بقوّةِ حوسبةٍ سريعة الزّوال (Ephemeral) تظهر للوجود بمجرّد طلبها وتختفي مباشرةً بعد استخدامها.
			</p>

			<div class="figure">
				<img src="images/evolution.svg" />
				<p>
					(صورة: تطوّر الحوسبة دون خادم).
				</p>
			</div>

			<div class="heading">
				<h3>تطبيقٌ بسيطٌ دون خادم</h3>
			</div>

			<p>
				قُمتُ -قبل فترةٍ بسيطةٍ- ببناء نقطة نهاية (Endpoint) بمعماريّة دون خادم (Serverless Architecture). كانت هذه النقطة ببساطة تستدعي دالّة “الانضمام إلى القائمة البريديّة (Subscribe)” والتي تقوم بضمّ البريد الإلكترونيّ المُدخل إلى القائمة البريديّة بعد التأكّد من صحّته. يُمكن استدعاء هذه النقطة من خلال رابطٍ يبدو كهذا: <code>subscribe?email=test@yopmail.com</code>. بمجرّد أن يتمّ التحقّق من صحّة البريد الإلكترونيّ يتم استدعاء واجهة برمجة تطبيق (API) <a href="https://mailchimp.com/">Mailchimp</a> لتقوم -بدورها- بإضافة البريد الإلكترونيّ إلى القائمة البريديّة لديها. وجدتُ أنّي لم أكن مضطرًا إلى تجهيز الخادم الذي سيحتضن الشفرة البرمجيّة ولا أن أقوم بتشغيل الخادم دون الاستفادة منه في كلّ وقت. أردتُ فقط أن تصل هذه الميزة إلى السوق بأسرع وقتٍ ممكن، وهذا ما تمّ فعلاً.
			</p>

			<div class="figure">
				<img src="images/serverless-architecture.svg" />
				<p>
					(صورة: معماريّة دون خادم لدالّة الانضمام إلى القائمة البريديّة).
				</p>
			</div>

			<div class="heading">
				<h3>منصّة سيرڤرلِس (Serverless Framework)</h3>
			</div>

			<p>
				الآن، ومع وجود العديد من مقدّمي خدمة الحوسبة دون خادم مثل أمازون (AWS Lambda) ومايكروسوفت (Azure Functions) وقوقل (Google Functions) وحتى الخدمات مفتوحة المصدر مثل <a href="https://openwhisk.apache.org/">(Apache OpenWhisk)</a>؛ لا يجدر بك أن تكتب شفرةً برمجيّة لكلّ مقدّم خدمة، الأولى والأجمل أن تعتمد تجريدًا (Abstraction) أو منصّة تنسجم مع كلّ مقدّمي الخدمة، بحيث تكتبُ في مكانٍ واحد يسمح لك لاحقًا بنشر التغييرات على مقدّم الخدمة الذي خصّصت دون حاجةٍ إلى تخصيصٍ في الشفرة البرمجيّة. <a href="https://github.com/anaibol/awesome-serverless#frameworks">هناك الكثير من المنصّات للقيام بذلك</a>، <a href="https://serverless.com/">تفضّل بالإطّلاع على Serverless Framework</a> كمثال لها.
			</p>
		</article>
		<footer>
			<ul>
				<li><a href="mailto:hossamzee@gmail.com">hossamzee@gmail.com</a></li>
			</ul>
		</footer>
	</div>
</body>
</html>